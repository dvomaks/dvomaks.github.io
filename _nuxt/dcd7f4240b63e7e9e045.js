(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{164:function(t,e,a){"use strict";a.d(e,"a",function(){return i});var i=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===t)return"0 Bytes";var a=e,i=Math.floor(Math.log(t)/Math.log(1e3));return parseFloat((t/Math.pow(1e3,i)).toFixed(a))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][i]}},166:function(t,e,a){},294:function(t,e,a){"use strict";var i=a(166);a.n(i).a},298:function(t,e,a){"use strict";a.r(e);a(39);var i=a(36),s=a.n(i),o=a(164),n={name:null,quota_bytes:0},r=[{text:"Name",value:"name"},{text:"Quota",value:"quota"},{text:"Actions",value:"name",sortable:!1}],l={name:"index",data:function(){return{entity:"company",alert:!0,formDialog:!1,editedIndex:-1,editedItem:Object.assign({},n),defaultItem:Object.assign({},n),tableLoader:!0,headers:r,items:[]}},computed:{formTitle:function(){return-1===this.editedIndex?"New":"Edit"}},watch:{formDialog:function(t){t||this.close()}},created:function(){var t=this;s.a.get("api/".concat(this.entity)).then(function(e){var a=e.data;t.items=a,t.tableLoader=!1})},methods:{editItem:function(t){this.editedIndex=this.items.indexOf(t),this.editedItem=Object.assign({},t),this.formDialog=!0},deleteItem:function(t){var e=this,a=this.items.indexOf(t);confirm("Are you sure you want to delete this item?")&&(this.tableLoader=!0,s.a.delete("api/".concat(this.entity,"/").concat(t.id)).then(function(){e.items.splice(a,1),e.tableLoader=!1}))},close:function(){this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1,this.formDialog=!1},save:function(){var t=this;if(this.tableLoader=!0,this.editedIndex>-1){var e=this.items[this.editedIndex];s.a.put("api/".concat(this.entity,"/").concat(e.id),this.editedItem).then(function(a){Object.assign(e,a.data),t.tableLoader=!1}).catch(function(e){console.log(e),422===e.response.status&&t.showFormErrors(e.response.data.errors),t.tableLoader=!1})}else s.a.post("api/".concat(this.entity),this.editedItem).then(function(e){var a=e.data;t.items.push(a),t.tableLoader=!1}).catch(function(e){console.log(e.response),422===e.response.status&&t.showFormErrors(e.response.data.errors),t.tableLoader=!1});this.close()},showFormErrors:function(t){for(var e in t)this.$toast.error(t[e][0])},formatSize:function(t){return Object(o.a)(t)}}},d=(a(294),a(15)),c=Object(d.a)(l,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",[a("v-flex",[a("v-toolbar",{attrs:{color:"white"}},[a("v-toolbar-title",[t._v("Company CRUD")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-dialog",{attrs:{"max-width":"360","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.formDialog,callback:function(e){t.formDialog=e},expression:"formDialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary",dark:"",disabled:t.tableLoader},slot:"activator"},[t._v("Add\n        ")]),t._v(" "),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),t._v(" "),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Name"},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{mask:"###################",label:"Quota bytes"},model:{value:t.editedItem.quota_bytes,callback:function(e){t.$set(t.editedItem,"quota_bytes",e)},expression:"editedItem.quota_bytes"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:""}},[t._v("\n                  ~ "+t._s(t.formatSize(t.editedItem.quota_bytes))+"\n                ")])],1)],1)],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.close}},[t._v("Cancel\n            ")]),t._v(" "),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.save}},[t._v("Save\n            ")])],1)],1)],1)],1),t._v(" "),a("v-data-table",{staticClass:"elevation-5",attrs:{headers:t.headers,items:t.items,loading:t.tableLoader},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.name))]),t._v(" "),a("td",[t._v(t._s(t.formatSize(e.item.quota_bytes)))]),t._v(" "),a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){t.editItem(e.item)}}},[t._v("\n            edit\n          ")]),t._v(" "),a("v-icon",{attrs:{small:""},on:{click:function(a){t.deleteItem(e.item)}}},[t._v("\n            delete\n          ")])],1)]}}])},[a("v-progress-linear",{attrs:{slot:"progress",color:"blue",indeterminate:""},slot:"progress"})],1)],1)],1)},[],!1,null,"7145c416",null);c.options.__file="index.vue";e.default=c.exports}}]);